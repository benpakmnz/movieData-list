(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{147:function(e,t,a){},148:function(e,t,a){},149:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(48),i=a.n(o),l=a(16),c=a(14),s=a(50),u=(a(61),a(62),a(5)),m=a(6),p=a(8),d=a(7),v=a(9),E=(a(63),a(18)),f=a(11);E.b.add(f.d,f.b,f.c,f.g,f.a,f.f,f.e);var h=a(51),b=a.n(h),D=function(){var e=["up","suits","casa+de+papel","friends","orange+is+the+new+black","prison+break","Breaking+Bad","young+sheldon","unreal"];return function(t){e.forEach(function(e){b.a.get("https://www.omdbapi.com/?t=".concat(e,"&apikey=8fb1ba1")).then(function(e){var a;t((a=e.data,{type:"SET_MOVIE_LIST",payload:{Title:y(a.Title),Poster:a.Poster,Year:a.Year,Runtime:a.Runtime,Genre:a.Genre,Director:a.Director,imdbID:a.imdbID}}))}).catch(function(e){return console.log(e)})})}},y=function(e){var t=/([a-z]|\s)/i;return e.toLowerCase().split("").filter(function(e){return t.test(e)}).join("").split(" ").map(function(e){return e[0].toUpperCase()+e.slice(1)}).join(" ")},M=(a(84),a(13)),O=(a(38),a(85),function(e){return n.a.createElement("div",{className:"movieButtonsContainer",style:{display:e.displayMode}},n.a.createElement("button",{onClick:e.clickedEdit},"Edit"),n.a.createElement("button",{onClick:e.clickedDelete},"Delete"),n.a.createElement("p",null,e.name))}),T=a(19),g=function(e){function t(){var e,a;Object(u.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).handleMouseHover=a.handleMouseHover.bind(Object(M.a)(Object(M.a)(a))),a.state={isHovering:!1},a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"handleMouseHover",value:function(){this.setState(this.toggleHoverState)}},{key:"toggleHoverState",value:function(e){return{isHovering:!e.isHovering}}},{key:"render",value:function(){return n.a.createElement("div",{className:"movieLayout",onMouseEnter:this.handleMouseHover,onMouseLeave:this.handleMouseHover},n.a.createElement("div",{className:"posterContainer",style:{backgroundImage:"url(".concat(this.props.poster,")")}}),n.a.createElement("div",{className:"movieData"},n.a.createElement("div",{className:"movieTitle"},this.props.title),n.a.createElement("hr",null),n.a.createElement("p",null,n.a.createElement(T.a,{className:"dataIcon",icon:"calendar"}),n.a.createElement("span",null,"Year: ")," ",this.props.year," |",n.a.createElement(T.a,{className:"dataIcon",icon:"stopwatch"}),n.a.createElement("span",null,"Runtime: ")," ",this.props.runtime),n.a.createElement("p",null,n.a.createElement("span",null,"Genre:"),n.a.createElement("br",null),this.props.genre),n.a.createElement("p",null,n.a.createElement("span",null,"Director: "),n.a.createElement("br",null),this.props.director)),n.a.createElement(O,{clickedEdit:this.props.formOpen,clickedDelete:this.props.deleteMovie,displayMode:(this.state.isHovering,"unset")}))}}]),t}(r.Component),R=(a(86),a(3)),I=a.n(R),j=function(e,t){var a={};return I.a.isEmpty(e.Title)?a.Title="your Movie title is valuable":I.a.isAlpha(I.a.blacklist(e.Title,", ."))?!0===function(e,t){if(t.some(function(t){return t.Title===e.Title}))return!0}(e,t)&&(a.Title="hiiii this movie is alreay here...."):a.Title="Title may contain only letters",I.a.isEmpty(e.Year)?a.Year="your Movie year realesed is valuable":/(\b(19|[2-9][0-9])\d{2})$/.test(e.Year)||(a.Year="movie year must be later then 1900"),I.a.isEmpty(e.Genre)?a.Genre="what about the movie genre ?":I.a.isAlpha(I.a.blacklist(e.Genre,", "))||(a.Genre="Genre may contain only letters"),I.a.isEmpty(e.Runtime)?a.Runtime="what about the movie Runtime?":I.a.isInt(e.Runtime)||(a.Runtime="the Runtime must be in minutes only"),I.a.isEmpty(e.Director)?a.Director="what about the Director ?":I.a.isAlpha(I.a.blacklist(e.Director,"/ , ."))||(a.Director="Director name may contain letters only"),a},k=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).onSubmit=function(e){e.preventDefault();var t={Title:a.title.current.value,Year:a.year.current.value,Genre:a.genre.current.value,Runtime:a.runtime.current.value,Director:a.director.current.value,imdbID:a.props.selectedMovieData.imdbID,Poster:a.props.selectedMovieData.Poster};a.props.selectedMovieData.imdbID?a.props.onSubmitEditMovie(t):a.props.onSubmitNewMovie(t),a.props.onFormCancel()},a.formValidation=function(e,t){if(e.preventDefault(),t){var r={Title:a.title.current.value,Year:a.year.current.value,Genre:a.genre.current.value,Runtime:a.runtime.current.value,Director:a.director.current.value,imdbID:a.props.selectedMovieData.imdbID},n=j(r,a.props.moviesList);a.props.validateForm(n),0===Object.keys(a.props.errors).length&&a.onSubmit(e)}else a.onSubmit(e)},a.title=n.a.createRef(),a.year=n.a.createRef(),a.genre=n.a.createRef(),a.runtime=n.a.createRef(),a.director=n.a.createRef(),a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"formLayout"},n.a.createElement("img",{src:this.props.selectedMovieData.Poster,alt:this.props.selectedMovieData.Title}),n.a.createElement("form",null,n.a.createElement("div",null,n.a.createElement("p",null,"* movie Title:",n.a.createElement("span",null,this.props.errors.Title)),n.a.createElement("input",{label:"Title",defaultValue:this.props.selectedMovieData.Title,ref:this.title,placeholder:"please type movie title"})),n.a.createElement("div",null,n.a.createElement("p",null,"* Year Realsed:",n.a.createElement("span",null,this.props.errors.Year)),n.a.createElement("input",{label:"Year",defaultValue:this.props.selectedMovieData.Year,ref:this.year,placeholder:"Years in numbers"})),n.a.createElement("div",null,n.a.createElement("p",null,"* Run Time:",n.a.createElement("span",null,this.props.errors.Runtime)),n.a.createElement("input",{label:"RunTime",defaultValue:this.props.selectedMovieData.Runtime,ref:this.runtime,placeholder:"Runtime in numbers"})),n.a.createElement("div",null,n.a.createElement("p",null,"* Genere:",n.a.createElement("span",null,this.props.errors.Genre)),n.a.createElement("input",{label:"Genere",defaultValue:this.props.selectedMovieData.Genre,ref:this.genre,placeholder:"movie genere"})),n.a.createElement("div",null,n.a.createElement("p",null,"* Director:",n.a.createElement("span",null,this.props.errors.Director)),n.a.createElement("input",{label:"Director",defaultValue:this.props.selectedMovieData.Director,ref:this.director,placeholder:"name of the movie director"})),n.a.createElement("div",null,n.a.createElement("button",{onClick:function(t){return e.formValidation(t,!0)}},"Submit changes"),n.a.createElement("button",{onClick:this.props.onFormCancel},"cancel"))))}}]),t}(r.Component),L=Object(l.b)(function(e){return{moviesList:e.moviesList.moviesDataList,errors:e.formValidation.errors}},function(e){return{validateForm:function(t){return e({type:"FORM_ERROR",payload:t})},onSubmitEditMovie:function(t){return e({type:"EDIT_MOVIE_SUBMIT",payload:{Title:y((a=t).Title),Poster:a.Poster,Year:a.Year,Runtime:a.Runtime,Genre:a.Genre,Director:a.Director,imdbID:a.imdbID}});var a},onSubmitNewMovie:function(t){return e({type:"ADD_MOVIE_SUBMIT",payload:{Title:y((a=t).Title),Poster:a.Poster,Year:a.Year,Runtime:a.Runtime,Genre:a.Genre,Director:a.Director,imdbID:a.imdbID}});var a}}})(k),w=(a(147),a(148),function(e){return n.a.createElement("div",{className:"backdrop",onClick:function(){return e.closeModal()}})}),S=function(e){return e.modalOpen?n.a.createElement(r.Fragment,null,n.a.createElement(w,{closeModal:e.modalClose}," "),n.a.createElement("div",{className:"modal"},e.children)):null},C=function(e){return n.a.createElement("div",{className:"movieLayout",onClick:e.formOpen},n.a.createElement("div",{className:"posterContainer"},n.a.createElement(T.a,{className:"addMovieIcon",icon:"plus"})),n.a.createElement("div",{className:"movieData"},n.a.createElement("div",{className:"movieTitle newMovieTitle"},"Add new movie")))},_=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).formEditOpen=function(e){a.setState({modalMode:!a.state.modalMode,selectedMovie:e,modalType:"form"}),console.log("selectedMovie: "+a.state.selectedMovie),console.log("movieId: "+e)},a.togglePopUp=function(){a.setState({modalMode:!a.state.modalMode}),a.props.clearFormErrors()},a.FormCancel=function(){a.setState({modalMode:!a.state.modalMode,modalType:""}),a.props.clearFormErrors()},a.onSubmitForm=function(e){a.props.onSubmit(e),a.togglePopUp(),a.props.clearFormErrors()},a.deleteApprovel=function(e){a.setState({modalMode:!a.state.modalMode,movieToDelete:e,modalType:"delete"})},a.deleteApproved=function(){a.setState({modalMode:!a.state.modalMode,modalType:""}),a.props.deleteMovie(a.state.movieToDelete.imdbID)},a.state={selectedMovie:{},modalMode:!1,modalType:"",movieToDelete:{}},a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.setMovieList()}},{key:"render",value:function(){var e=this;console.log(this.props.moviesList);var t=this.props.moviesList.map(function(t){return n.a.createElement(g,{key:t.imdbID?t.imdbID:t.Title,title:t.Title,poster:t.Poster,year:t.Year,runtime:t.Runtime,genre:t.Genre,director:t.Director,formOpen:function(){return e.formEditOpen(t)},deleteMovie:function(){return e.deleteApprovel(t)}})});return n.a.createElement("div",{className:"movieList"},n.a.createElement(C,{formOpen:this.formEditOpen}),t,n.a.createElement(S,{modalOpen:this.state.modalMode,modalClose:this.togglePopUp},"form"===this.state.modalType?n.a.createElement(L,{selectedMovieData:this.state.selectedMovie,onFormCancel:this.FormCancel}):null,"delete"===this.state.modalType?n.a.createElement("div",null,n.a.createElement("p",null,"Are you sure you want to delete ",this.state.movieToDelete.Title," ?"),n.a.createElement("button",{onClick:this.deleteApproved},"yep, please delete it for me"),n.a.createElement("button",{onClick:this.togglePopUp},"ooooops")):null))}}]),t}(r.Component),G=Object(l.b)(function(e){return{moviesList:e.moviesList.moviesDataList}},function(e){return{setMovieList:function(){return e(D())},deleteMovie:function(t){return e({type:"DELETE_MOVIE",payload:t})},clearFormErrors:function(){return e({type:"CLEAR_FORM_ERROR"})}}})(_),N=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return n.a.createElement(r.Fragment,null,n.a.createElement(G,null))}}]),t}(r.Component),Y=a(30),F=a(10),V={moviesDataList:[]},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MOVIE_LIST":return Object(F.a)({},e,{moviesDataList:[t.payload].concat(Object(Y.a)(e.moviesDataList))});case"EDIT_MOVIE_SUBMIT":return Object(F.a)({},e,{moviesDataList:e.moviesDataList.map(function(e){return e.imdbID===t.payload.imdbID?t.payload:e})});case"ADD_MOVIE_SUBMIT":return Object(F.a)({},e,{moviesDataList:[t.payload].concat(Object(Y.a)(e.moviesDataList))});case"DELETE_MOVIE":return Object(F.a)({},e,{moviesDataList:e.moviesDataList.filter(function(e){return e.imdbID!==t.payload})});default:return e}},A={errors:{Title:"",Year:"",Genre:"",Runtime:"",Director:""}},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FORM_ERROR":return Object(F.a)({},e,{errors:t.payload});case"CLEAR_FORM_ERROR":return Object(F.a)({},e,{errors:{}});default:return e}};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var U=Object(c.c)({moviesList:P,formValidation:H}),B=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.d,J=Object(c.e)(U,B(Object(c.a)(function(e){return function(e){return function(t){return e(t)}}},s.a)));i.a.render(n.a.createElement(l.a,{store:J},n.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},38:function(e,t,a){},52:function(e,t,a){e.exports=a(149)},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){}},[[52,1,2]]]);
//# sourceMappingURL=main.3926ed9f.chunk.js.map