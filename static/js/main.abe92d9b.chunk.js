(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{148:function(e,t,a){},149:function(e,t,a){},150:function(e,t,a){},151:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(48),i=a.n(o),l=a(17),c=a(15),s=a(50),u=(a(62),a(63),a(7)),m=a(8),p=a(10),d=a(9),v=a(11),E=(a(64),a(19)),f=a(6);E.b.add(f.e,f.b,f.d,f.h,f.a,f.g,f.f,f.c);var h=a(51),b=a.n(h),D=function(){var e=["up","suits","casa+de+papel","friends","orange+is+the+new+black","prison+break","Breaking+Bad","young+sheldon","unreal"];return function(t){e.forEach(function(e){b.a.get("https://www.omdbapi.com/?t=".concat(e,"&apikey=8fb1ba1")).then(function(e){var a;t((a=e.data,{type:"SET_MOVIE_LIST",payload:{Title:y(a.Title),Poster:a.Poster,Year:a.Year,Runtime:a.Runtime,Genre:a.Genre,Director:a.Director,imdbID:a.imdbID}}))}).catch(function(e){return console.log(e)})})}},y=function(e){var t=/([a-z]|\s)/i;return e.toLowerCase().split("").filter(function(e){return t.test(e)}).join("").split(" ").map(function(e){return e[0].toUpperCase()+e.slice(1)}).join(" ")},M=(a(85),a(14)),O=(a(23),a(86),a(5)),g=function(e){return r.a.createElement("div",{className:"movieButtonsContainer",style:{display:e.displayMode}},r.a.createElement("button",{className:"editMovieButton",onClick:e.clickedEdit},r.a.createElement(O.a,{className:"imageIcon",icon:"pen"}),"Edit"),r.a.createElement("button",{className:"removeMovieButton",onClick:e.clickedDelete},r.a.createElement(O.a,{className:"imageIcon",icon:"trash"}),"Delete"))},T=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).handleMouseHover=a.handleMouseHover.bind(Object(M.a)(Object(M.a)(a))),a.state={isHovering:!1},a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"handleMouseHover",value:function(){this.setState(this.toggleHoverState)}},{key:"toggleHoverState",value:function(e){return{isHovering:!e.isHovering}}},{key:"render",value:function(){return r.a.createElement("div",{className:"movieLayout",onMouseEnter:this.handleMouseHover,onMouseLeave:this.handleMouseHover},r.a.createElement("div",{className:"posterContainer",style:{backgroundImage:"url(".concat(this.props.poster,")")}},this.props.poster?null:r.a.createElement("div",{className:"noPoster"},r.a.createElement(O.a,{className:"imageIcon",icon:"image"}))),r.a.createElement("div",{className:"movieData"},r.a.createElement("div",{className:"movieTitle"},this.props.title),r.a.createElement("hr",null),r.a.createElement("p",null,r.a.createElement(O.a,{className:"dataIcon",icon:"calendar"}),r.a.createElement("span",null,"Year: ")," ",this.props.year," |",r.a.createElement(O.a,{className:"dataIcon",icon:"stopwatch"}),r.a.createElement("span",null,"Runtime: ")," ",this.props.runtime),r.a.createElement("p",null,r.a.createElement("span",null,"Genre:"),r.a.createElement("br",null),this.props.genre),r.a.createElement("p",null,r.a.createElement("span",null,"Director: "),r.a.createElement("br",null),this.props.director)),r.a.createElement(g,{clickedEdit:this.props.formOpen,clickedDelete:this.props.deleteMovie,displayMode:(this.state.isHovering,"unset")}))}}]),t}(n.Component),R=(a(87),a(3)),I=a.n(R),j=function(e,t){var a={};return I.a.isEmpty(e.Title)?a.Title="your Movie title is valuable":I.a.isAlpha(I.a.blacklist(e.Title,", ."))?!0===function(e,t){if(t.some(function(t){return t.Title===e.Title}))return!0}(e,t)&&(a.Title="hiiii this movie is alreay here...."):a.Title="Title may contain only letters",I.a.isEmpty(e.Year)?a.Year="your Movie year realesed is valuable":/(\b(19|[2-9][0-9])\d{2})$/.test(e.Year)||(a.Year="movie year must be later then 1900"),I.a.isEmpty(e.Genre)?a.Genre="what about the movie genre ?":I.a.isAlpha(I.a.blacklist(e.Genre,", "))||(a.Genre="Genre may contain only letters"),I.a.isEmpty(e.Runtime)?a.Runtime="what about the movie Runtime?":I.a.isInt(e.Runtime)||(a.Runtime="the Runtime must be in minutes only"),I.a.isEmpty(e.Director)?a.Director="what about the Director ?":I.a.isAlpha(I.a.blacklist(e.Director,"/ , ."))||(a.Director="Director name may contain letters only"),a},k=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).onSubmit=function(e){e.preventDefault();var t={Title:a.title.current.value,Year:a.year.current.value,Genre:a.genre.current.value,Runtime:a.runtime.current.value,Director:a.director.current.value,imdbID:a.props.selectedMovieData.imdbID,Poster:a.props.selectedMovieData.Poster};a.props.selectedMovieData.imdbID?a.props.onSubmitEditMovie(t):a.props.onSubmitNewMovie(t),a.props.onFormCancel()},a.formValidation=function(e,t){if(e.preventDefault(),t){var n={Title:a.title.current.value,Year:a.year.current.value,Genre:a.genre.current.value,Runtime:a.runtime.current.value,Director:a.director.current.value,imdbID:a.props.selectedMovieData.imdbID},r=j(n,a.props.moviesList);a.props.validateForm(r),0===Object.keys(a.props.errors).length&&a.onSubmit(e)}else a.onSubmit(e)},a.title=r.a.createRef(),a.year=r.a.createRef(),a.genre=r.a.createRef(),a.runtime=r.a.createRef(),a.director=r.a.createRef(),a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"formLayout"},this.props.selectedMovieData.Poster?r.a.createElement("img",{src:this.props.selectedMovieData.Poster,alt:this.props.selectedMovieData.Title}):r.a.createElement("div",{className:"noPoster"},r.a.createElement(O.a,{className:"imageIcon",icon:"image"})),r.a.createElement("form",null,r.a.createElement("div",null,r.a.createElement("p",null,"* movie Title:",r.a.createElement("span",null,this.props.errors.Title)),r.a.createElement("input",{label:"Title",defaultValue:this.props.selectedMovieData.Title,ref:this.title,placeholder:"please type movie title"})),r.a.createElement("div",null,r.a.createElement("p",null,"* Year Realsed:",r.a.createElement("span",null,this.props.errors.Year)),r.a.createElement("input",{label:"Year",defaultValue:this.props.selectedMovieData.Year,ref:this.year,placeholder:"Years in numbers"})),r.a.createElement("div",null,r.a.createElement("p",null,"* Run Time:",r.a.createElement("span",null,this.props.errors.Runtime)),r.a.createElement("input",{label:"RunTime",defaultValue:this.props.selectedMovieData.Runtime,ref:this.runtime,placeholder:"Runtime in numbers"})),r.a.createElement("div",null,r.a.createElement("p",null,"* Genere:",r.a.createElement("span",null,this.props.errors.Genre)),r.a.createElement("input",{label:"Genere",defaultValue:this.props.selectedMovieData.Genre,ref:this.genre,placeholder:"movie genere"})),r.a.createElement("div",null,r.a.createElement("p",null,"* Director:",r.a.createElement("span",null,this.props.errors.Director)),r.a.createElement("input",{label:"Director",defaultValue:this.props.selectedMovieData.Director,ref:this.director,placeholder:"name of the movie director"}),r.a.createElement("div",{class:"formButtons"},r.a.createElement("button",{onClick:function(t){return e.formValidation(t,!0)}},r.a.createElement(O.a,{icon:"check"})," Submit changes"),r.a.createElement("p",{className:"cancelButton",onClick:this.props.onFormCancel},"cancel")))))}}]),t}(n.Component),L=Object(l.b)(function(e){return{moviesList:e.moviesList.moviesDataList,errors:e.formValidation.errors}},function(e){return{validateForm:function(t){return e({type:"FORM_ERROR",payload:t})},onSubmitEditMovie:function(t){return e({type:"EDIT_MOVIE_SUBMIT",payload:{Title:y((a=t).Title),Poster:a.Poster,Year:a.Year,Runtime:a.Runtime,Genre:a.Genre,Director:a.Director,imdbID:a.imdbID}});var a},onSubmitNewMovie:function(t){return e({type:"ADD_MOVIE_SUBMIT",payload:{Title:y((a=t).Title),Poster:a.Poster,Year:a.Year,Runtime:a.Runtime,Genre:a.Genre,Director:a.Director,imdbID:a.imdbID}});var a}}})(k),w=(a(148),a(149),function(e){return r.a.createElement("div",{className:"backdrop",onClick:function(){return e.closeModal()}})}),S=function(e){return e.modalOpen?r.a.createElement(n.Fragment,null,r.a.createElement(w,{closeModal:e.modalClose}," "),r.a.createElement("div",{className:"modal"},e.children)):null},N=function(e){return r.a.createElement("div",{className:"addMovieLayout",onClick:e.formOpen},r.a.createElement(O.a,{className:"addMovieIcon",icon:"plus"}),r.a.createElement("div",{className:"newMovieTitle"},"Add new movie"))},_=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).formEditOpen=function(e){a.setState({modalMode:!a.state.modalMode,selectedMovie:e,modalType:"form"}),console.log("selectedMovie: "+a.state.selectedMovie),console.log("movieId: "+e)},a.togglePopUp=function(){a.setState({modalMode:!a.state.modalMode}),a.props.clearFormErrors()},a.FormCancel=function(){a.setState({modalMode:!a.state.modalMode,modalType:""}),a.props.clearFormErrors()},a.onSubmitForm=function(e){a.props.onSubmit(e),a.togglePopUp(),a.props.clearFormErrors()},a.deleteApprovel=function(e){a.setState({modalMode:!a.state.modalMode,movieToDelete:e,modalType:"delete"})},a.deleteApproved=function(){a.setState({modalMode:!a.state.modalMode,modalType:""}),a.props.deleteMovie(a.state.movieToDelete.imdbID)},a.state={selectedMovie:{},modalMode:!1,modalType:"",movieToDelete:{}},a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.setMovieList()}},{key:"render",value:function(){var e=this;console.log(this.props.moviesList);var t=this.props.moviesList.map(function(t){return r.a.createElement(T,{key:t.imdbID?t.imdbID:t.Title,title:t.Title,poster:t.Poster,year:t.Year,runtime:t.Runtime,genre:t.Genre,director:t.Director,formOpen:function(){return e.formEditOpen(t)},deleteMovie:function(){return e.deleteApprovel(t)}})});return r.a.createElement("div",{className:"movieList"},r.a.createElement(N,{formOpen:this.formEditOpen}),t,r.a.createElement(S,{modalOpen:this.state.modalMode,modalClose:this.togglePopUp},"form"===this.state.modalType?r.a.createElement(L,{selectedMovieData:this.state.selectedMovie,onFormCancel:this.FormCancel}):null,"delete"===this.state.modalType?r.a.createElement("div",null,r.a.createElement("p",null,"Are you sure you want to delete ",this.state.movieToDelete.Title," ?"),r.a.createElement("button",{onClick:this.deleteApproved},"yep, please delete it for me"),r.a.createElement("button",{onClick:this.togglePopUp},"ooooops")):null))}}]),t}(n.Component),C=Object(l.b)(function(e){return{moviesList:e.moviesList.moviesDataList}},function(e){return{setMovieList:function(){return e(D())},deleteMovie:function(t){return e({type:"DELETE_MOVIE",payload:t})},clearFormErrors:function(){return e({type:"CLEAR_FORM_ERROR"})}}})(_),G=(a(150),a(52)),Y=a.n(G),F=function(){return r.a.createElement("header",null,r.a.createElement("img",{src:Y.a,alt:"logo"}))},P=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(F,null),r.a.createElement(C,null))}}]),t}(n.Component),V=a(31),A=a(12),B={moviesDataList:[]},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MOVIE_LIST":return Object(A.a)({},e,{moviesDataList:[t.payload].concat(Object(V.a)(e.moviesDataList))});case"EDIT_MOVIE_SUBMIT":return Object(A.a)({},e,{moviesDataList:e.moviesDataList.map(function(e){return e.imdbID===t.payload.imdbID?t.payload:e})});case"ADD_MOVIE_SUBMIT":return Object(A.a)({},e,{moviesDataList:[t.payload].concat(Object(V.a)(e.moviesDataList))});case"DELETE_MOVIE":return Object(A.a)({},e,{moviesDataList:e.moviesDataList.filter(function(e){return e.imdbID!==t.payload})});default:return e}},U={errors:{Title:"",Year:"",Genre:"",Runtime:"",Director:""}},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FORM_ERROR":return Object(A.a)({},e,{errors:t.payload});case"CLEAR_FORM_ERROR":return Object(A.a)({},e,{errors:{}});default:return e}};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var J=Object(c.c)({moviesList:H,formValidation:x}),W=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.d,X=Object(c.e)(J,W(Object(c.a)(function(e){return function(e){return function(t){return e(t)}}},s.a)));i.a.render(r.a.createElement(l.a,{store:X},r.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},23:function(e,t,a){},52:function(e,t,a){e.exports=a.p+"static/media/logo-moviesDataList.1c8e1103.png"},53:function(e,t,a){e.exports=a(151)},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){}},[[53,1,2]]]);
//# sourceMappingURL=main.abe92d9b.chunk.js.map