(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{148:function(e,t,a){},149:function(e,t,a){},150:function(e,t,a){},151:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(49),i=a.n(o),l=a(16),s=a(14),c=a(51),m=(a(63),a(64),a(7)),u=a(8),d=a(10),p=a(9),v=a(11),f=(a(65),a(18)),E=a(6);f.b.add(E.e,E.b,E.d,E.h,E.a,E.g,E.f,E.c);var h=a(52),b=a.n(h),D=function(){var e=["up","suits","casa+de+papel","friends","orange+is+the+new+black","prison+break","Breaking+Bad","young+sheldon","unreal"];return function(t){e.forEach(function(e){b.a.get("https://www.omdbapi.com/?t=".concat(e,"&apikey=8fb1ba1")).then(function(e){var a;t((a=e.data,{type:"SET_MOVIE_LIST",payload:{Title:M(a.Title),Poster:a.Poster,Year:a.Year,Runtime:a.Runtime,Genre:a.Genre,Director:a.Director,imdbID:a.imdbID}}))}).catch(function(e){return console.log(e)})})}},M=function(e){if(e){var t=/([a-z]|\s)/i;return e.toLowerCase().split("").filter(function(e){return t.test(e)}).join("").split(" ").map(function(e){return e[0].toUpperCase()+e.slice(1)}).join(" ")}},y=(a(86),a(39),a(19),a(3)),O=function(e){return n.a.createElement("div",{className:"movieButtonsContainer"},n.a.createElement("button",{className:"blueMovieButton",onClick:e.clickedEdit},n.a.createElement(y.a,{className:"imageIcon",icon:"pen"}),"Edit"),n.a.createElement("button",{className:"redMovieButton",onClick:e.clickedDelete},n.a.createElement(y.a,{className:"imageIcon",icon:"trash"}),"Delete"))},g=function(e){function t(){return Object(m.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"movieLayout",onMouseEnter:this.handleMouseHover,onMouseLeave:this.handleMouseHover},n.a.createElement("div",{className:"posterContainer",style:{backgroundImage:"url(".concat(this.props.poster,")")}},this.props.poster?null:n.a.createElement("div",{className:"noPoster"},n.a.createElement(y.a,{className:"imageIcons",icon:"image"}))),n.a.createElement("div",{className:"movieData"},n.a.createElement("div",{className:"movieTitle"},this.props.title),n.a.createElement("hr",null),n.a.createElement("p",null,n.a.createElement(y.a,{className:"dataIcon",icon:"calendar"}),n.a.createElement("span",null,"Year: "),this.props.year," |",n.a.createElement(y.a,{className:"dataIcon",icon:"stopwatch"}),n.a.createElement("span",null,"Runtime: "),this.props.runtime),n.a.createElement("p",null,n.a.createElement("span",null,"Genre:"),n.a.createElement("br",null),this.props.genre),n.a.createElement("p",null,n.a.createElement("span",null,"Director: "),n.a.createElement("br",null),this.props.director)),n.a.createElement(O,{clickedEdit:this.props.formOpen,clickedDelete:this.props.deleteMovie}))}}]),t}(r.Component),T=(a(87),a(4)),I=a.n(T),R=function(e,t){var a={};return I.a.isEmpty(e.Title)?a.Title="your Movie title is valuable":I.a.isAlpha(I.a.blacklist(e.Title,", ."))?function(e,t){var a=t.find(function(t){return t.imdbID===e.imdbID});return console.log(a),void 0!==a?a.Title===e.Title&&(console.log("edit"),!0):!!t.some(function(t){return t.Title===e.Title})||(console.log(t),console.log(e.Title),void console.log("new"))}(e,t)&&(a.Title="hiiii this movie is alreay here...."):a.Title="Title may contain only letters",I.a.isEmpty(e.Year)?a.Year="your Movie year realesed is valuable":/(\b(19|[2-9][0-9])\d{2})$/.test(e.Year)||(a.Year="movie year must be later then 1900"),I.a.isEmpty(e.Genre)?a.Genre="what about the movie genre ?":I.a.isAlpha(I.a.blacklist(e.Genre,", "))||(a.Genre="Genre may contain only letters"),I.a.isEmpty(e.Runtime)?a.Runtime="what about the movie Runtime?":I.a.isInt(e.Runtime)||(a.Runtime="the Runtime must be in minutes only"),I.a.isEmpty(e.Director)?a.Director="what about the Director ?":I.a.isAlpha(I.a.blacklist(e.Director,"/ , ."))||(a.Director="Director name may contain letters only"),a},N=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).onSubmit=function(e){e.preventDefault();var t={Title:a.title.current.value,Year:a.year.current.value,Genre:a.genre.current.value,Runtime:a.runtime.current.value,Director:a.director.current.value,imdbID:a.props.selectedMovieData.imdbID,Poster:a.props.selectedMovieData.Poster};a.props.selectedMovieData.imdbID?a.props.onSubmitEditMovie(t):a.props.onSubmitNewMovie(t),a.props.onFormCancel()},a.formValidation=function(e,t){if(e.preventDefault(),t){var r={Title:a.title.current.value,Year:a.year.current.value,Genre:a.genre.current.value,Runtime:a.runtime.current.value,Director:a.director.current.value,imdbID:a.props.selectedMovieData.imdbID};console.log("movieUpdatedData: "+JSON.stringify(r));var n=R(r,a.props.moviesList);a.setState({stateEerrors:n}),console.log("stateErrors: "+JSON.stringify(a.state.errors)),a.props.validateForm(n),0===Object.keys(n).length&&a.onSubmit(e)}else a.onSubmit(e)},a.state={stateEerrors:{}},a.title=n.a.createRef(),a.year=n.a.createRef(),a.genre=n.a.createRef(),a.runtime=n.a.createRef(),a.director=n.a.createRef(),a}return Object(v.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"formLayout"},this.props.selectedMovieData.Poster?n.a.createElement("img",{className:"formPoster",src:this.props.selectedMovieData.Poster,alt:this.props.selectedMovieData.Title}):n.a.createElement("div",{className:"formPoster"},n.a.createElement(y.a,{className:"imageIcons",icon:"image"})),n.a.createElement("form",null,n.a.createElement("div",null,n.a.createElement("p",null,"* movie Title:",n.a.createElement("span",null,this.props.errors.Title)),n.a.createElement("input",{label:"Title",defaultValue:this.props.selectedMovieData.Title,ref:this.title,placeholder:"please type movie title"})),n.a.createElement("div",null,n.a.createElement("p",null,"* Year Realsed:",n.a.createElement("span",null,this.props.errors.Year)),n.a.createElement("input",{label:"Year",defaultValue:this.props.selectedMovieData.Year,ref:this.year,placeholder:"Years in numbers"})),n.a.createElement("div",null,n.a.createElement("p",null,"* Run Time:",n.a.createElement("span",null,this.props.errors.Runtime)),n.a.createElement("input",{label:"RunTime",defaultValue:this.props.selectedMovieData.Runtime,ref:this.runtime,placeholder:"Runtime in numbers"})),n.a.createElement("div",null,n.a.createElement("p",null,"* Genere:",n.a.createElement("span",null,this.props.errors.Genre)),n.a.createElement("input",{label:"Genere",defaultValue:this.props.selectedMovieData.Genre,ref:this.genre,placeholder:"movie genere"})),n.a.createElement("div",null,n.a.createElement("p",null,"* Director:",n.a.createElement("span",null,this.props.errors.Director)),n.a.createElement("input",{label:"Director",defaultValue:this.props.selectedMovieData.Director,ref:this.director,placeholder:"name of the movie director"}),n.a.createElement("div",{className:"formButtons"},n.a.createElement("button",{onClick:function(t){return e.formValidation(t,!0)}},n.a.createElement(y.a,{icon:"check"})," Submit changes"),n.a.createElement("p",{className:"cancelButton",onClick:this.props.onFormCancel},"cancel")))))}}]),t}(r.Component),j=Object(l.b)(function(e){return{moviesList:e.moviesList.moviesDataList,errors:e.formValidation.errors}},function(e){return{validateForm:function(t){return e({type:"FORM_ERROR",payload:t})},onSubmitEditMovie:function(t){return e({type:"EDIT_MOVIE_SUBMIT",payload:{Title:M((a=t).Title),Poster:a.Poster,Year:a.Year,Runtime:a.Runtime,Genre:a.Genre,Director:a.Director,imdbID:a.imdbID}});var a},onSubmitNewMovie:function(t){return e({type:"ADD_MOVIE_SUBMIT",payload:{Title:M((a=t).Title),Poster:a.Poster,Year:a.Year,Runtime:a.Runtime,Genre:a.Genre,Director:a.Director,imdbID:a.imdbID}});var a}}})(N),k=(a(148),a(149),function(e){return n.a.createElement("div",{className:"backdrop",onClick:function(){return e.closeModal()}})}),w=function(e){return e.modalOpen?n.a.createElement(r.Fragment,null,n.a.createElement(k,{closeModal:e.modalClose}," "),n.a.createElement("div",{className:"modal"},n.a.createElement("button",{className:"modalCloseButton",onClick:e.modalClose},n.a.createElement(y.a,{className:"imageIcon",icon:"times"})),e.children)):null},L=function(e){return n.a.createElement("div",{className:"addMovieLayout",onClick:e.formOpen},n.a.createElement("div",{className:"posterContainer"},n.a.createElement(y.a,{className:"addMovieIcon",icon:"plus"})),n.a.createElement("div",{className:"newMovieTitle"},"Add new movie"),n.a.createElement("div",{className:"NewMovieTitleMobile"},"Add new movie"))},C=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).formEditOpen=function(e,t){a.setState({formMode:!a.state.formMode,selectedMovie:e,modalMode:!a.state.modalMode,modalType:"form",formType:t}),console.log(a.state)},a.togglePopUp=function(){a.setState({formMode:!a.state.formMode,modalMode:!a.state.modalMode,modalType:""}),a.props.clearFormErrors()},a.FormCancel=function(){a.setState({formMode:!a.state.formMode,modalMode:!a.state.modalMode,modalType:""}),a.props.clearFormErrors()},a.onSubmitForm=function(e){a.props.onSubmit(e),a.togglePopUp(),a.props.clearFormErrors()},a.deleteApprovel=function(e){a.setState({modalMode:!a.state.modalMode,movieToDelete:e,modalType:"delete"})},a.deleteApproved=function(){a.setState({modalMode:!a.state.modalMode,modalType:""}),a.props.deleteMovie(a.state.movieToDelete.imdbID)},a.state={formMode:!1,selectedMovie:{},modalMode:!1,modalType:"",formType:"",movieToDelete:{}},a}return Object(v.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.setMovieList(),console.log("componentDidMount: "+JSON.stringify(this.state))}},{key:"render",value:function(){var e=this,t=this.props.moviesList.map(function(t){return n.a.createElement(g,{key:t.imdbID?t.imdbID:t.Title,title:t.Title,poster:t.Poster,year:t.Year,runtime:t.Runtime,genre:t.Genre,director:t.Director,formOpen:function(){return e.formEditOpen(t,"editForm")},deleteMovie:function(){return e.deleteApprovel(t)}})});return n.a.createElement("div",{className:"movieList"},n.a.createElement(L,{formOpen:function(){return e.formEditOpen({},"newForm")}}),t,n.a.createElement(w,{modalOpen:this.state.modalMode,modalClose:this.togglePopUp},"form"===this.state.modalType?n.a.createElement(j,{selectedMovieData:this.state.selectedMovie,onFormCancel:this.FormCancel}):null,"delete"===this.state.modalType?n.a.createElement("div",{class:"deleteApprovalMessage"},n.a.createElement("p",null,"Are you sure you want to remove the title"),n.a.createElement("h3",{style:{margin:"0px 0px 25px 0px"}}," ",this.state.movieToDelete.Title," ?"),n.a.createElement("div",{className:"popUpFooter"},n.a.createElement("button",{className:"blueMovieButton",onClick:this.deleteApproved},"yep, please delete it for me"),n.a.createElement("button",{className:"redMovieButton",onClick:this.togglePopUp},"ooooops"))):null))}}]),t}(r.Component),S=Object(l.b)(function(e){return{moviesList:e.moviesList.moviesDataList}},function(e){return{setMovieList:function(){return e(D())},deleteMovie:function(t){return e({type:"DELETE_MOVIE",payload:t})},clearFormErrors:function(){return e({type:"CLEAR_FORM_ERROR"})}}})(C),_=(a(150),a(53)),F=a.n(_),G=function(){return n.a.createElement("header",null,n.a.createElement("img",{src:F.a,alt:"logo"}))},Y=function(e){function t(){return Object(m.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.a.createElement(r.Fragment,null,n.a.createElement(G,null),n.a.createElement(S,null))}}]),t}(r.Component),P=a(31),V=a(12),B={moviesDataList:[]},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MOVIE_LIST":return Object(V.a)({},e,{moviesDataList:[t.payload].concat(Object(P.a)(e.moviesDataList))});case"EDIT_MOVIE_SUBMIT":return Object(V.a)({},e,{moviesDataList:e.moviesDataList.map(function(e){return e.imdbID===t.payload.imdbID?t.payload:e})});case"ADD_MOVIE_SUBMIT":return Object(V.a)({},e,{moviesDataList:[t.payload].concat(Object(P.a)(e.moviesDataList))});case"DELETE_MOVIE":return Object(V.a)({},e,{moviesDataList:e.moviesDataList.filter(function(e){return e.imdbID!==t.payload})});default:return e}},U={errors:{Title:"",Year:"",Genre:"",Runtime:"",Director:""}},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FORM_ERROR":return Object(V.a)({},e,{errors:t.payload});case"CLEAR_FORM_ERROR":return Object(V.a)({},e,{errors:{}});default:return e}};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var J=Object(s.c)({moviesList:A,formValidation:x}),H=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.d,W=Object(s.e)(J,H(Object(s.a)(function(e){return function(e){return function(t){return e(t)}}},c.a)));i.a.render(n.a.createElement(l.a,{store:W},n.a.createElement(Y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},19:function(e,t,a){},39:function(e,t,a){},53:function(e,t,a){e.exports=a.p+"static/media/logo-moviesDataList.1c8e1103.png"},54:function(e,t,a){e.exports=a(151)},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){}},[[54,1,2]]]);
//# sourceMappingURL=main.4a75d411.chunk.js.map